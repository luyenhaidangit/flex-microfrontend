<div class="card">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="card-title mb-0">Miền thanh toán</h4>
      <button class="btn btn-sm btn-outline-secondary" (click)="fetch()" [disabled]="loading">
        <i class="bx bx-refresh"></i>
        Tải lại
      </button>
    </div>

    <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

    <div class="table-responsive">
      <table class="table table-sm table-hover align-middle">
        <thead class="thead-light">
          <tr>
            <th style="min-width: 200px">Tên Domain</th>
            <th>Loại hình TT</th>
            <th>Chu kì TT</th>
            <th>Phương thức TT CK</th>
            <th>Phương thức TT Tiền</th>
            <th>Domain mặc định</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of rows; trackBy: trackByCode">
            <td>
              <div class="fw-500">{{ r.domainName }}</div>
              <div class="text-muted small">{{ r.domainCode }}</div>
            </td>
            <td>{{ r.settlementType }}</td>
            <td>{{ r.settlementCycle }}</td>
            <td>{{ r.secSettlementType }}</td>
            <td>{{ r.cashSettleType }}</td>
            <td>
              <span class="badge" [ngClass]="r.isDefault ? 'bg-success' : 'bg-light text-muted'">
                {{ r.isDefault ? 'Mặc định' : '—' }}
              </span>
            </td>
          </tr>
          <tr *ngIf="!loading && rows.length === 0">
            <td colspan="6" class="text-center text-muted">Không có dữ liệu</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="loading" class="text-center py-3 text-muted">Đang tải...</div>
  </div>
</div>

